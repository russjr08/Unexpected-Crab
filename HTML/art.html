<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		<title>JS Bin</title>

		<style id="jsbin-css">
			body{
				margin: 0;
			}

			canvas{
				float:left;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas"></canvas>
		<script type="text/javascript">
			var canvas = document.getElementById("canvas");
			var context = canvas.getContext("2d");

			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
			context.fillStyle = "#000";
			context.fillRect(0, 0, canvas.width, canvas.height);
			var rotation = 0;

			var draw = function(){
				rotation += Math.random()*1000;
				context.save();
				context.translate(canvas.width / 2 + Math.random()*150, canvas.height / 2 + Math.random()*150);
				context.rotate(rotation*Math.PI/180);
				context.beginPath();
				context.arc(100, 100, Math.random()*1000, Math.PI, (1+Math.random())*Math.PI, false);
				context.strokeStyle = randomColor();
				context.lineWidth = 2;
				context.stroke();
				context.restore();
				if(rotation > window.innerWidth*1.5) rotation = 0;
				window.requestAnimationFrame(draw);
			};

			var randomColor = function(){
				var r = Math.floor(Math.random()*255);
				var g = Math.floor(Math.random()*255);
				var b = Math.floor(Math.random()*255);
				return "rgba(" + r + ", " + g + ", " + b + ", 0.3)";
			};

			window.addEventListener("keydown", function(e){
				if(e.keyCode == 83 && e.ctrlKey) {
					console.log("adfg");
					window.open(canvas.toDataURL());
					e.preventDefault();
					return false;
				}
			});

			draw();
		</script>
	</body>
</html>